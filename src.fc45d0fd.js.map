{"version":3,"sources":["../src/vnode.js","../src/options.js","../src/h.js","../src/util.js","../src/clone-element.js","../src/constants.js","../src/render-queue.js","../src/vdom/index.js","../src/dom/index.js","../src/vdom/diff.js","../src/vdom/component-recycler.js","../src/vdom/component.js","../src/component.js","../src/render.js","../src/preact.js","node_modules/@babel/runtime/helpers/esm/extends.js","node_modules/resolve-pathname/esm/resolve-pathname.js","node_modules/value-equal/esm/value-equal.js","node_modules/tiny-warning/dist/tiny-warning.esm.js","node_modules/tiny-invariant/dist/tiny-invariant.esm.js","node_modules/history/esm/history.js","../src/index.js","src/libs/dateUtil.ts","src/components/Comment.tsx","src/components/Loader.tsx","node_modules/whatwg-fetch/fetch.js","src/config.ts","src/libs/githubApis.ts","src/Article.tsx","src/components/Pagination.tsx","src/Articles.tsx","src/Blog.tsx","src/index.tsx","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","i","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","applyRef","ref","value","current","defer","Promise","resolve","then","bind","setTimeout","cloneElement","slice","call","NO_RENDER","SYNC_RENDER","FORCE_RENDER","ASYNC_RENDER","IS_NON_DIMENSIONAL","items","isSameNodeType","node","hydrating","_componentConstructor","isNamedNode","normalizedNodeName","defaultProps","document","createElementNS","removeNode","parentNode","removeChild","setAccessor","name","old","style","innerHTML","__html","useCapture","toLowerCase","_listeners","ns","eventProxy","mounts","diffLevel","flushMounts","c","shift","parent","ATTR_KEY","ret","componentRoot","out","prevSvgMode","buildComponentFromVNode","vnodeName","dom","firstChild","appendChild","vchildren","nodeValue","context","mountAll","dangerouslySetInnerHTML","originalChildren","keyed","min","len","childrenLen","vlen","j","f","vchild","keyedLen","component","unmountOnly","next","previousSibling","diffAttributes","attrs","recyclerComponents","createComponent","Ctor","prototype","constructor","nextBase","doRender","setComponentProps","_disable","componentWillReceiveProps","prevContext","renderMode","syncComponentUpdates","__ref","renderComponent","state","previousProps","previousState","isUpdate","base","initialBase","snapshot","rendered","inst","cbase","shouldComponentUpdate","prevProps","_dirty","render","getSnapshotBeforeUpdate","childComponent","toUnmount","childProps","getNodeProps","initialChildComponent","_parentComponent","_component","baseParent","replaceChild","componentRef","t","afterUpdate","_renderCallbacks","isChild","originalComponent","oldDom","isDirectOwner","isOwner","beforeUnmount","componentWillUnmount","callback","diff","merge","createRef","_extends","Object","assign","target","source","hasOwnProperty","apply","isAbsolute","pathname","charAt","spliceOne","list","index","k","n","resolvePathname","to","from","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","hasTrailingSlash","last","up","part","unshift","result","join","substr","valueOf","valueEqual","a","b","Array","isArray","every","item","aValue","bValue","keys","isProduction","warning","condition","message","text","console","warn","Error","x","prefix","invariant","addLeadingSlash","path","stripLeadingSlash","hasBasename","indexOf","stripBasename","stripTrailingSlash","parsePath","search","hash","hashIndex","searchIndex","createPath","location","createLocation","currentLocation","decodeURI","e","URIError","locationsAreEqual","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","action","getUserConfirmation","listeners","appendListener","fn","isActive","listener","filter","notifyListeners","_len","args","_key","forEach","canUseDOM","window","createElement","getConfirmation","confirm","supportsHistory","ua","navigator","userAgent","history","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","event","PopStateEvent","HashChangeEvent","getHistoryState","createBrowserHistory","globalHistory","canUseHistory","needsHashChangeListener","_props","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createKey","Math","random","toString","transitionManager","setState","nextState","handlePopState","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","createHref","href","pushState","prevIndex","nextKeys","replace","replaceState","goBack","goForward","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","stripHash","url","getHashPath","substring","pushHashPath","replaceHashPath","createHashHistory","canGoWithoutReload","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","locationsAreEqual$$1","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","querySelector","getAttribute","hashChanged","nextPaths","clamp","lowerBound","upperBound","max","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","map","entry","nextIndex","nextEntries","splice","canGo","const","EMPTY","let","super","this","bundleURL","getBundleURLCached","getBundleURL","err","matches","match","getBaseURL","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","overlay","createErrorOverlay","body","getElementById","stackTrace","innerText","getParents","modules","parents","d","dep","Function","deps","cached","cache","some","cb"],"mappings":"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;AAcD,GAfD;;AAgBF,SAAA,OAAA;AAjBA,CAAA,CAAqC,KAAK,CAAC,SAA3C,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXA,IAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AAMA,IAAA,MAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAoC,EAAA,SAAA,CAAA,MAAA,EAAA,MAAA,CAAA;;AAApC,WAAA,MAAA,GAAA;;AAMC;;AALC,EAAA,MAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC;AAAf,KAAA,CADF;AAGD,GAJD;;AAKF,SAAA,MAAA;AANA,CAAA,CAAoC,KAAK,CAAC,SAA1C,CAAA;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"src.fc45d0fd.js","sourceRoot":"..","sourcesContent":["/**\n * Virtual DOM Node\n * @typedef VNode\n * @property {string | function} nodeName The string of the DOM node to create or Component constructor to render\n * @property {Array<VNode | string>} children The children of node\n * @property {string | number | undefined} key The key used to identify this VNode in a list\n * @property {object} attributes The properties of this VNode\n */\nexport const VNode = function VNode() {};\n","/**\n * @typedef {import('./component').Component} Component\n * @typedef {import('./vnode').VNode} VNode\n */\n\n/**\n * Global options\n * @public\n * @typedef Options\n * @property {boolean} [syncComponentUpdates] If `true`, `prop` changes trigger synchronous component updates. Defaults to true.\n * @property {(vnode: VNode) => void} [vnode] Processes all created VNodes.\n * @property {(component: Component) => void} [afterMount] Hook invoked after a component is mounted.\n * @property {(component: Component) => void} [afterUpdate] Hook invoked after the DOM is updated with a component's latest render.\n * @property {(component: Component) => void} [beforeUnmount] Hook invoked immediately before a component is unmounted.\n * @property {(rerender: function) => void} [debounceRendering] Hook invoked whenever a rerender is requested. Can be used to debounce rerenders.\n * @property {(event: Event) => Event | void} [event] Hook invoked before any Preact event listeners. The return value (if any) replaces the native browser event given to event listeners\n */\n\n/** @type {Options}  */\nconst options = {};\n\nexport default options;\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility\n * reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a\n * lightweight representation of the structure of a DOM tree. This structure can\n * be realized by recursively comparing it against the current _actual_ DOM\n * structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string | function} nodeName An element name. Ex: `div`, `a`, `span`, etc.\n * @param {object | null} attributes Any attributes/props to set on the created element.\n * @param {VNode[]} [rest] Additional arguments are taken to be children to\n *  append. Can be infinitely nested Arrays.\n *\n * @public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/**\n * Copy all properties from `props` onto `obj`.\n * @param {object} obj Object onto which properties should be copied.\n * @param {object} props Object from which to copy properties.\n * @returns {object}\n * @private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/** Invoke or update a ref, depending on whether it is a function or object ref.\n *  @param {object|function} [ref=null]\n *  @param {any} [value]\n */\nexport function applyRef(ref, value) {\n\tif (ref) {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n * @type {(callback: function) => void}\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./vnode').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./vnode').VNode>} [rest] Any additional arguments will be used as replacement\n *  children.\n */\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\n/** Do not re-render a component */\nexport const NO_RENDER = 0;\n/** Synchronously re-render a component and its children */\nexport const SYNC_RENDER = 1;\n/** Synchronously re-render a component, even if its lifecycle methods attempt to prevent it. */\nexport const FORCE_RENDER = 2;\n/** Queue asynchronous re-render of a component and it's children */\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n/** DOM properties that should NOT have \"px\" added when numeric */\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/**\n * Managed queue of dirty components to be re-rendered\n * @type {Array<import('./component').Component>}\n */\nlet items = [];\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./component').Component} component The component to rerender\n */\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\n/** Rerender all enqueued dirty components */\nexport function rerender() {\n\tlet p;\n\twhile ( (p = items.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/**\n * Check if two nodes are equivalent.\n * @param {import('../dom').PreactElement} node DOM Node to compare\n * @param {import('../vnode').VNode} vnode Virtual DOM node to compare\n * @param {boolean} [hydrating=false] If true, ignores component constructors\n *  when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n * @param {import('../dom').PreactElement} node A DOM Element to inspect the name of.\n * @param {string} nodeName Unnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {import('../vnode').VNode} vnode The VNode to get props for\n * @returns {object} The props to use for this VNode\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport { applyRef } from '../util';\nimport options from '../options';\n\n/**\n * A DOM event listener\n * @typedef {(e: Event) => void} EventListner\n */\n\n/**\n * A mapping of event types to event listeners\n * @typedef {Object.<string, EventListener>} EventListenerMap\n */\n\n/**\n * Properties Preact adds to elements it creates\n * @typedef PreactElementExtensions\n * @property {string} [normalizedNodeName] A normalized node name to use in diffing\n * @property {EventListenerMap} [_listeners] A map of event listeners added by components to this DOM node\n * @property {import('../component').Component} [_component] The component that rendered this DOM node\n * @property {function} [_componentConstructor] The constructor of the component that rendered this DOM node\n */\n\n/**\n * A DOM element that has been extended with Preact properties\n * @typedef {Element & ElementCSSInlineStyle & PreactElementExtensions} PreactElement\n */\n\n/**\n * Create an element with the given nodeName.\n * @param {string} nodeName The DOM node to create\n * @param {boolean} [isSvg=false] If `true`, creates an element within the SVG\n *  namespace.\n * @returns {PreactElement} The created DOM node\n */\nexport function createNode(nodeName, isSvg) {\n\t/** @type {PreactElement} */\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/**\n * Remove a child node from its parent if attached.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/**\n * Set a named attribute on the given Node, with special behavior for some names\n * and event handlers. If `value` is `null`, the attribute/handler will be\n * removed.\n * @param {PreactElement} node An element to mutate\n * @param {string} name The name/key to set, such as an event or attribute name\n * @param {*} old The last value that was set for this name/node pair\n * @param {*} value An attribute value, such as a function to be used as an\n *  event handler\n * @param {boolean} isSvg Are we currently diffing inside an svg?\n * @private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\t// Attempt to set a DOM property to the given value.\n\t\t// IE & FF throw for certain property-value combinations.\n\t\ttry {\n\t\t\tnode[name] = value==null ? '' : value;\n\t\t} catch (e) { }\n\t\tif ((value==null || value===false) && name!='spellcheck') node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink:?/, '')));\n\t\t// spellcheck is treated differently than all other boolean values and\n\t\t// should not be removed when the value is `false`. See:\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-spellcheck\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { applyRef } from '../util';\nimport { removeNode } from '../dom/index';\n\n/**\n * Queue of components that have been mounted and are awaiting componentDidMount\n * @type {Array<import('../component').Component>}\n */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c = mounts.shift())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/**\n * Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing\n *  the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {Element} parent ?\n * @param {boolean} componentRoot ?\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/**\n * Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} [componentRoot] ?\n * @private\n */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/**\n * Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n * @param {import('../dom').PreactElement} dom Element whose children should be compared & mutated\n * @param {Array<import('../vnode').VNode>} vchildren Array of VNodes to compare to `dom.childNodes`\n * @param {object} context Implicitly descendant context object (from most\n *  recent `getChildContext()`)\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} isHydrating if `true`, consumes externally created elements\n *  similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/**\n * Recursively recycle (or just unmount) a node and its descendants.\n * @param {import('../dom').PreactElement} node DOM node to start\n *  unmount/removal from\n * @param {boolean} [unmountOnly=false] If `true`, only triggers unmount\n *  lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null) applyRef(node[ATTR_KEY].ref, null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/**\n * Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/**\n * Apply differences in attributes from a VNode to the given DOM Element.\n * @param {import('../dom').PreactElement} dom Element with attributes to diff `attrs` against\n * @param {object} attrs The desired end-state key-value attribute pairs\n * @param {object} old Current/previous attributes (from previous VNode or\n *  element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/**\n * Retains a pool of Components for re-use.\n * @type {Component[]}\n * @private\n */\nexport const recyclerComponents = [];\n\n\n/**\n * Create a component. Normalizes differences between PFC's and classful\n * Components.\n * @param {function} Ctor The constructor of the component to create\n * @param {object} props The initial props of the component\n * @param {object} context The initial context of the component\n * @returns {import('../component').Component}\n */\nexport function createComponent(Ctor, props, context) {\n\tlet inst, i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor===Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend, applyRef } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, recyclerComponents } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/**\n * Set a component's `props` and possibly re-render the component\n * @param {import('../component').Component} component The Component to set props on\n * @param {object} props The new props\n * @param {number} renderMode Render options - specifies how to re-render the component\n * @param {object} context The new context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n */\nexport function setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t}\n\t\telse if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode!==NO_RENDER) {\n\t\tif (renderMode===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\n\n\n/**\n * Render a Component, triggering necessary lifecycle events and taking\n * High-Order Components into account.\n * @param {import('../component').Component} component The component to render\n * @param {number} [renderMode] render mode, see constants.js for available options.\n * @param {boolean} [mountAll] Whether or not to immediately mount all components\n * @param {boolean} [isChild] ?\n * @private\n */\nexport function renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\tsnapshot = previousContext,\n\t\trendered, inst, cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/**\n * Apply the Component referenced by a VNode to the DOM.\n * @param {import('../dom').PreactElement} dom The DOM node to mutate\n * @param {import('../vnode').VNode} vnode A Component-referencing VNode\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/**\n * Remove a component from the DOM and recycle it.\n * @param {import('../component').Component} component The Component instance to unmount\n * @private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY]!=null) applyRef(base[ATTR_KEY].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n/**\n * Base Component class.\n * Provides `setState()` and `forceUpdate()`, which trigger rendering.\n * @typedef {object} Component\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components' getChildContext\n * @public\n *\n * @example\n * class MyFoo extends Component {\n *   render(props, state) {\n *     return <div />;\n *   }\n * }\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.context = context;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.props = props;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\n\nextend(Component.prototype, {\n\n\t/**\n\t * Update component state and schedule a re-render.\n\t * @param {object} state A dict of state properties to be shallowly merged\n\t * \tinto the current state, or a function that will produce such a dict. The\n\t * \tfunction is called with the current state and props.\n\t * @param {() => void} callback A function to be called once component state is\n\t * \tupdated\n\t */\n\tsetState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(\n\t\t\textend({}, this.state),\n\t\t\ttypeof state === 'function' ? state(this.state, this.props) : state\n\t\t);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/**\n\t * Immediately perform a synchronous re-render of the component.\n\t * @param {() => void} callback A function to be called after component is\n\t * \tre-rendered.\n\t * @private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/**\n\t * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t * @param {object} props Props (eg: JSX attributes) received from parent\n\t * \telement/component\n\t * @param {object} state The component's current state\n\t * @param {object} context Context object, as returned by the nearest\n\t *  ancestor's `getChildContext()`\n\t * @returns {import('./vnode').VNode | void}\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/**\n * Render JSX into a `parent` Element.\n * @param {import('./vnode').VNode} vnode A (JSX) VNode to render\n * @param {import('./dom').PreactElement} parent DOM element to render into\n * @param {import('./dom').PreactElement} [merge] Attempt to re-use an existing DOM tree rooted at\n *  `merge`\n * @public\n *\n * @example\n * // render a div into <body>:\n * render(<div id=\"hello\">hello!</div>, document.body);\n *\n * @example\n * // render a \"Thing\" component into #foo:\n * const Thing = ({ name }) => <span>{ name }</span>;\n * render(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","import { h, h as createElement } from './h';\nimport { cloneElement } from './clone-element';\nimport { Component } from './component';\nimport { render } from './render';\nimport { rerender } from './render-queue';\nimport options from './options';\n\nfunction createRef() {\n\treturn {};\n}\n\nexport default {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n\nexport {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","import { cloneElement, h, Component } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_!=null || typeof Symbol!=='undefined' && node[Symbol.for('preactattr')]!=null;\n}\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) return this.canRoute(url);\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.attributes.path, vnode.attributes);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(children, url, true);\n\n\t\tlet current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\th('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => h(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link };\nexport default Router;\n","const tokenRegexp = /Y+|M+|D+|H+|m+|s+|./g\r\n\r\nconst parsers = {\r\n  'Y': {\r\n    match: /^(\\d{1,4})/,\r\n    unit: 'years'\r\n  },\r\n  'M': {\r\n    match: /^(1[0-2]|0?[1-9])/,\r\n    unit: 'months'\r\n  },\r\n  'D': {\r\n    match: /^(\\d{1,2})/,\r\n    unit: 'dates'\r\n  },\r\n  'H': {\r\n    match: /^(2[0-3]|[0-1]?\\d)/,\r\n    unit: 'hours'\r\n  },\r\n  'm': {\r\n    match: /^([0-5]?\\d)/,\r\n    unit: 'minutes'\r\n  },\r\n  's': {\r\n    match: /^([0-5]?\\d)/,\r\n    unit: 'seconds'\r\n  }\r\n}\r\n\r\nfunction padStart (original: string | number, targetLength: number, padString: string) {\r\n  original = String(original)\r\n\r\n  if (original.length < targetLength) {\r\n    original = padString[0].repeat(targetLength - original.length) + original\r\n  }\r\n\r\n  return original\r\n}\r\n\r\n\r\nexport function format (source: Date | string, format: string) {\r\n  const date = source instanceof Date ? source : new Date(source)\r\n\r\n  const details = {\r\n    years: date.getFullYear(),\r\n    months: date.getMonth() + 1,\r\n    dates: date.getDate(),\r\n    hours: date.getHours(),\r\n    minutes: date.getMinutes(),\r\n    seconds: date.getSeconds()\r\n  }\r\n\r\n  return format.replace(tokenRegexp, (token) => {\r\n    const value = parsers[token[0]] && details[parsers[token[0]].unit]\r\n\r\n    return value === undefined\r\n      ? token\r\n      : padStart(value, token.length, '0')\r\n  })\r\n}\r\n","import * as React from 'preact'\r\n\r\nimport {IComment} from '../interfaces'\r\nimport * as dateUtil from '../libs/dateUtil'\r\n\r\nexport interface ICommentProps {\r\n  comment: IComment\r\n}\r\n\r\nexport interface ICommentState {}\r\n\r\nexport default class Comment extends React.Component<ICommentProps, ICommentState> {\r\n  render ({comment}: ICommentProps) {\r\n    return (\r\n      <div className='Comment'>\r\n        <div className='Comment__header'>\r\n          <div className='Comment__avatar'>\r\n            <img src={comment.user.avatar_url}/>\r\n          </div>\r\n          <div className='Comment__user'>{comment.user.login}{comment.author_association === 'OWNER' && <span>作者</span>}</div>\r\n          <div className='Comment__date'>{dateUtil.format(comment.created_at, 'YYYY-MM-DD HH:mm:ss')}</div>\r\n        </div>\r\n        <div className='Comment__body'>\r\n          <div className='Comment__content markdown-body' dangerouslySetInnerHTML={{__html: comment.body_html}}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import * as React from 'preact'\r\n\r\nexport interface ILoaderProps {}\r\n\r\nexport interface ILoaderState {}\r\n\r\nexport default class Loader extends React.Component<ILoaderProps, ILoaderState> {\r\n  render () {\r\n    return (\r\n      <div className='Loader'></div>\r\n    )\r\n  }\r\n}\r\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status === undefined ? 200 : options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","export default {\r\n  username: 'simplast',\r\n  repo: 'simplast/simplast.github.io',\r\n  pageSize: 10,\r\n  // clientId: '',\r\n  // clientSecret: ''\r\n}\r\n","import 'whatwg-fetch'\r\nimport config from '../config'\r\n\r\nconst base = 'https://api.github.com'\r\n\r\n// const proxyBase = 'https://cors-anywhere.herokuapp.com'\r\n\r\n// const authUrl = 'https://github.com/login/oauth/access_token'\r\n\r\n// export function getAccessToken (code: string) {\r\n//   return fetch(\r\n//     `${proxyBase}/${authUrl}`,\r\n//     {\r\n//       method: 'POST',\r\n//       body: JSON.stringify({\r\n//         code,\r\n//         client_id: config.clientId,\r\n//         client_secret: config.clientSecret\r\n//       })\r\n//     }\r\n//   )\r\n// }\r\n\r\nexport function getUser() {\r\n  return fetch(\r\n    `${base}/${config.username}`\r\n  ).then((res) => res.json())\r\n}\r\n\r\nexport function listLabels() {\r\n  return fetch(\r\n    `${base}/repos/${config.repo}/labels`\r\n  ).then((res) => res.json())\r\n}\r\n\r\nexport function getIssue(id: number) {\r\n  return fetch(\r\n    `${base}/repos/${config.repo}/issues/${id}`,\r\n    {\r\n      headers: {\r\n        'Accept': 'application/vnd.github.v3.html'\r\n      }\r\n    }\r\n  ).then((res) => res.json())\r\n}\r\n\r\nexport function listIssues(page: number) {\r\n  const query = `q=state:open+repo:${config.repo}+author:${config.username}&sort=created&order=desc&page=${page}&per_page=${config.pageSize}`\r\n\r\n  return fetch(\r\n    `${base}/search/issues?${query}`,\r\n    {\r\n      headers: {\r\n        'Accept': 'application/vnd.github.v3.html'\r\n      }\r\n    }\r\n  ).then((res) => res.json())\r\n}\r\n\r\nexport function listComments (number: number) {\r\n  return fetch(\r\n    `${base}/repos/${config.repo}/issues/${number}/comments`,\r\n    {\r\n      headers: {\r\n        'Accept': 'application/vnd.github.v3.html'\r\n      }\r\n    }\r\n  ).then((res) => res.json())\r\n}\r\n\r\n// export function addComment (accessToken: string, number: number, content: string) {\r\n//   return fetch(\r\n//     `${base}/repos/${config.repo}/issues/${number}/comments`,\r\n//     {\r\n//       method: 'POST',\r\n//       headers: {\r\n//         Authorization: `token ${accessToken}`\r\n//       },\r\n//       body: JSON.stringify({\r\n//         body: content\r\n//       })\r\n//     }\r\n//   )\r\n// }\r\n","import * as React from 'preact'\r\n\r\nimport Comment from './components/Comment'\r\nimport Loader from './components/Loader'\r\nimport {IArticle, IComment} from './interfaces'\r\nimport * as dateUtil from './libs/dateUtil'\r\nimport * as githubApis from './libs/githubApis'\r\n\r\nexport interface IArticleProps {\r\n  path?: string\r\n  url?: string\r\n  number?: string\r\n  matches?: {\r\n    number: string\r\n  }\r\n}\r\n\r\nexport interface IArticleState {\r\n  article: IArticle | null\r\n  comments: IComment[]\r\n}\r\n\r\nexport default class Article extends React.Component<IArticleProps, IArticleState> {\r\n\r\n  constructor (props: IArticleProps) {\r\n    super(props)\r\n    this.state = {\r\n      article: null,\r\n      comments: []\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.load(parseInt(this.props.number || ''))\r\n  }\r\n\r\n  load (number: number) {\r\n    githubApis.getIssue(number)\r\n      .then((body) => {\r\n        this.setState({\r\n          article: body\r\n        })\r\n      })\r\n      .then(() => {\r\n        githubApis.listComments(number).then((body) => {\r\n          this.setState({\r\n            comments: body\r\n          })\r\n        })\r\n      })\r\n  }\r\n\r\n  render (props: IArticleProps, {article, comments}: IArticleState) {\r\n    if (!article) {\r\n      return <Loader/>\r\n    }\r\n\r\n    return (\r\n      <div className='Article'>\r\n        <div className='Article__header'>\r\n          <h1 className='Article__title'>\r\n            {article.title}\r\n          </h1>\r\n          <div className='Article__details'>\r\n            <span className='Article__date'>{dateUtil.format(article.created_at, 'DD / MM / YYYY')}</span>\r\n            <span className='Article__tags'>\r\n              {article.labels.map((label) => (\r\n                <span className='Article__tag'>{label.name}</span>\r\n              ))}\r\n            </span>\r\n            <span className='Article__comments'>评论&nbsp;{article.comments}</span>\r\n          </div>\r\n        </div>\r\n        <div className='Article__body'>\r\n          <div className='Article__content markdown-body' dangerouslySetInnerHTML={{__html: article.body_html}}/>\r\n        </div>\r\n        <div className='Article__footer'>\r\n          <a href={`${article.html_url}#partial-timeline-marker`}>\r\n            <div className='Article__reply'>点击评论</div>\r\n          </a>\r\n          {comments.map((comment) => (\r\n            <Comment comment={comment}/>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import * as React from 'preact'\r\n\r\nexport interface IPaginationProps {\r\n  page: number\r\n  total: number\r\n}\r\n\r\nexport interface IPaginationState {\r\n  start: number\r\n  end: number\r\n}\r\n\r\nexport default class Pagination extends React.Component<IPaginationProps, IPaginationState> {\r\n\r\n  constructor (props: IPaginationProps) {\r\n    super(props)\r\n\r\n    const start = props.page - 3\r\n    const end = props.page + 3\r\n    \r\n\r\n    this.state = {\r\n      start: start > 0 ? start : 1,\r\n      end: end < props.total ? end : props.total\r\n    }\r\n  }\r\n\r\n  render ({page}: IPaginationProps, {start, end}: IPaginationState) {\r\n    const buttons: any[] = []\r\n\r\n    for (let i = start; i <= end; i++) {\r\n      let className = 'Pagination__item'\r\n\r\n      if (i === page) {\r\n        className += ' Pagination__item--active'\r\n      }\r\n\r\n      buttons.push(\r\n        <li className={className}><a href={`/${i}`}>{i}</a></li>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <ul className='Pagination'>\r\n        {buttons}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n","import * as React from 'preact'\r\n\r\nimport {IArticle} from './interfaces'\r\nimport * as dateUtil from './libs/dateUtil'\r\nimport * as githubApis from './libs/githubApis'\r\nimport Loader from './components/Loader';\r\nimport Pagination from './components/Pagination';\r\nimport config from './config';\r\n\r\nexport interface IArticlesProps {\r\n  page?: string\r\n}\r\n\r\nexport interface IArticlesState {\r\n  loading: boolean\r\n  total: number\r\n  page: number\r\n  articles: IArticle[]\r\n}\r\n\r\nexport default class Articles extends React.Component<IArticlesProps, IArticlesState> {\r\n\r\n  constructor (props: IArticlesProps) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      loading: true,\r\n      total: -1,\r\n      page: 0,\r\n      articles: []\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    const page = parseInt(this.props.page as any) || 1\r\n    this.load(page)\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: IArticlesProps) {\r\n    const page = parseInt(nextProps.page as any) || 1\r\n    this.load(page)\r\n  }\r\n\r\n  load (nextPage: number) {\r\n    this.setState({loading: true})\r\n    githubApis.listIssues(nextPage).then((body) => {\r\n      this.setState({\r\n        loading: false,\r\n        total: body.total_count,\r\n        page: nextPage,\r\n        articles: body.items\r\n      })\r\n    })\r\n  }\r\n\r\n  render (props: IArticlesProps, {loading, articles, page, total}: IArticlesState) {\r\n    if (loading) {\r\n      return <Loader/>\r\n    }\r\n\r\n    const totalPage = Math.ceil(total / config.pageSize)\r\n\r\n    return (\r\n      <div className='Articles'>\r\n        <ul className='Articles__items'>\r\n          {articles.map((article) => (\r\n            <li className='Articles__item'>\r\n              <span className='Articles__item-date'>{dateUtil.format(article.created_at, 'DD / MM / YYYY')}</span>\r\n              <a href={`/articles/${article.number}`} className='Articles__item-title'>{article.title}</a>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <Pagination page={page} total={totalPage}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import {createHashHistory} from 'history'\r\nimport * as React from 'preact'\r\nimport {Router} from 'preact-router'\r\n\r\nimport Article from './Article'\r\nimport Articles from './Articles'\r\n\r\nconst history = createHashHistory()\r\n\r\nexport interface IBlogProps {}\r\n\r\nexport interface IBlogState {}\r\n\r\nexport default class Blog extends React.Component<IBlogProps, IBlogState> {\r\n\r\n  constructor (props: IBlogProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  render (props: any) {\r\n    return (\r\n      <div className='Blog'>\r\n        <div className='Blog__header'>\r\n          <div className='Blog__title'>\r\n            <a href='/'>VARHARRIE</a>\r\n          </div>\r\n          <ul className='Blog__links'>\r\n            <li className='Blog__link'>\r\n              <a href='https://github.com/varHarrie'>GitHub</a>\r\n            </li>\r\n            <li className='Blog__link'>\r\n              <a href='https://weibo.com/u/2960702231'>Weibo</a>\r\n            </li>\r\n            <li className='Blog__link'>\r\n              <a href='mailto:varharrie@gmail.com'>Email</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className='Blog__body'>\r\n          <Router history={history}>\r\n            <Articles path='/:page?'/>\r\n            <Article path='/articles/:number'/>\r\n          </Router>\r\n        </div>\r\n        <div className='Blog__footer'></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import 'github-markdown-css/github-markdown.css'\r\nimport './index.less'\r\n\r\nimport * as React from 'preact'\r\n\r\nimport Blog from './Blog'\r\n\r\nReact.render(\r\n  <div id='root'>\r\n    <Blog/>\r\n  </div>\r\n, document.body)\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}